# ==================================================
# æ£€ç´¢æ¨¡å— (Retrieval) ä¸“ç”¨æç¤ºè¯
# ==================================================
RETRIEVAL_JUDGE_TEMPLATE = """
ä½ æ˜¯ä¸€ä¸ªä¸¥è°¨çš„æ•°æ®æ¶æ„å¸ˆã€‚ä½ çš„ä»»åŠ¡æ˜¯ä»ç»™å®šçš„ [å€™é€‰æ•°æ®è¡¨] ä¸­ï¼Œç­›é€‰å‡ºå›ç­” [ç”¨æˆ·é—®é¢˜] æ‰€éœ€çš„**æœ€å°ã€æœ€ç²¾å‡†**çš„è¡¨é›†åˆã€‚

### æ ¸å¿ƒåŸåˆ™ (Domain Principles)
{domain_rules}

### å‚è€ƒæ€ç»´èŒƒä¾‹ (Few-Shot Examples)
{few_shot_examples}

---

**Current Task**:
**User Question**: "{query}"
**Candidate Tables**: 
{candidates}

**è¾“å‡ºæ ¼å¼ (JSON Only)**:
{{
    "status": "PASS" | "COMPLEMENT" | "ASK_USER",
    "selected_tables": ["table1", "table2"],
    "reason": "æ€è€ƒè¿‡ç¨‹",
    "search_keywords": ["kw1", "kw2"],
    "clarify_question": "..."
}}
"""


# ä¸“é—¨ç”¨äº Schema å¢å¼ºçš„ Prompt
SCHEMA_ENRICH_PROMPT = """
ä½ æ˜¯ä¸€ä¸ªæ•°æ®ä¸“å®¶ã€‚è¯·åˆ†æä»¥ä¸‹æ•°æ®åº“è¡¨ç»“æ„å’Œæ ·æœ¬æ•°æ®ï¼Œæå–å…³é”®å…ƒæ•°æ®ã€‚

# Schema
DB: {{db}}
Table: {{table}}
Comment: {{comment}}
Columns: {{columns}}

# Samples (Desensitized)
{{samples}}

# Requirements
è¯·è¾“å‡º JSONï¼ˆåªè¾“å‡º JSONï¼Œä¸è¦è§£é‡Šï¼‰ï¼ŒåŒ…å«ï¼š
- domain: trade/user/scm/marketing/log/other
- summary: ä¸€å¥è¯ä¸­æ–‡æè¿°è¡¨ä¸šåŠ¡å«ä¹‰
- join_keys: é€‚åˆå…³è”çš„å­—æ®µååˆ—è¡¨ï¼ˆå¿…é¡»æ¥è‡ª Columnsï¼‰
- time_cols: æ—¶é—´å­—æ®µååˆ—è¡¨ï¼ˆå¿…é¡»æ¥è‡ª Columnsï¼‰
- metric_cols: å¯èšåˆæ•°å€¼æŒ‡æ ‡å­—æ®µååˆ—è¡¨ï¼ˆå¿…é¡»æ¥è‡ª Columnsï¼‰
- synonyms: é»‘è¯/åŒä¹‰è¯åˆ—è¡¨ï¼ˆå¦‚ "GMV=æˆäº¤é¢=äº¤æ˜“é¢"ï¼‰
- risk: sensitive æˆ– none

ä¸¥æ ¼è¦æ±‚ï¼š
1) join_keys/time_cols/metric_cols å¿…é¡»æ˜¯ Columns é‡ŒçœŸå®å­˜åœ¨çš„åˆ—åã€‚
2) å¦‚æœä¸ç¡®å®šå°±è¾“å‡ºç©ºæ•°ç»„ã€‚
"""



TABLE_CARD_GOVERNANCE_PROMPT = """
ä½ æ˜¯ä¸€ä¸ªä¼ä¸šçº§æ•°æ®æ²»ç†ä¸“å®¶ã€‚è¯·æ ¹æ®æä¾›çš„æ•°æ®åº“è¡¨ç»“æ„ï¼ˆSchemaï¼‰å’Œæ ·æœ¬æ•°æ®ï¼ˆSamplesï¼‰ï¼Œç”Ÿæˆè¯¥è¡¨çš„ã€æ•°æ®èµ„äº§å¡ç‰‡ï¼ˆTableCardï¼‰ã€‘ä¿¡æ¯ã€‚

# è¾“å…¥ä¿¡æ¯
- DB: {db}
- Table: {logical_table} (Logical) / {table} (Physical)
- Domain: {domain}
- Comment: {table_comment}
- Columns: 
{columns_desc}
- Samples (å·²è„±æ•): 
{samples}

# ä»»åŠ¡è¦æ±‚
è¯·åˆ†æè¡¨æ„å›¾ï¼Œè¾“å‡ºä¸¥æ ¼çš„ JSON æ ¼å¼ï¼ˆä¸è¦ Markdown ä»£ç å—ï¼‰ï¼Œå¿…é¡»åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

1. "summary": (string) ä¸€å¥è¯æè¿°è¡¨çš„ä¸šåŠ¡å«ä¹‰ï¼ˆå¿…é¡»éç©ºï¼Œç²¾ç‚¼ï¼‰ã€‚
2. "synonyms": (string[]) ä¸šåŠ¡é»‘è¯ã€åŒä¹‰è¯ã€æœç´¢å…³é”®è¯ã€‚**å¿…é¡»è‡³å°‘æä¾› 5 ä¸ª**ï¼ˆä¾‹å¦‚ï¼š["è®¢å•ä¸»è¡¨", "äº¤æ˜“æµæ°´", "GMVæ¥æº", "t_order", "OrderMaster"]ï¼‰ã€‚
3. "table_type": (string) å¿…é¡»æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š["fact" (äº‹å®è¡¨), "dim" (ç»´è¡¨), "bridge" (å…³è”è¡¨), "log" (æ—¥å¿—è¡¨), "config" (é…ç½®è¡¨), "unknown"]ã€‚
4. "entity_tags": (string[]) æ¶‰åŠçš„æ ¸å¿ƒå®ä½“ï¼Œä»é›†åˆä¸­é€‰ï¼ˆå¯å¤šé€‰ï¼‰ï¼š["user", "order", "pay", "sku", "supplier", "activity", "log", "inventory", "unknown"]ã€‚
5. "risk_level": (string) æ•æ„Ÿç­‰çº§ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š["normal" (æ™®é€š), "sensitive" (æ•æ„Ÿ/PII), "forbidden" (æ ¸å¿ƒæœºå¯†)]ã€‚
6. "domain_suggestion": (string) ä½ è®¤ä¸ºè¯¥è¡¨æœ€å‡†ç¡®çš„å½’å±åŸŸã€‚
7. "domain_confidence": (float) ç½®ä¿¡åº¦ 0~1ã€‚

# æ³¨æ„äº‹é¡¹
- å¦‚æœè¡¨æ³¨é‡Šä¸ºç©ºï¼Œè¯·æ ¹æ®åˆ—åå’Œæ ·æœ¬å¼ºè¡Œæ¨æ–­ summaryã€‚
- é£é™©åˆ¤å®šï¼šåŒ…å«æ‰‹æœºå·ã€èº«ä»½è¯ã€å¯†ç å“ˆå¸Œçš„ä¸º sensitiveã€‚
- ä»…ä»…è¾“å‡º JSON å¯¹è±¡ï¼Œä¸è¦åŒ…å«ä»»ä½•å…¶ä»–è§£é‡Šã€‚
"""



INTENT_PROMPT = """
ä½ æ˜¯ä¸€ä¸ªæ„å›¾è¯†åˆ«ä¸“å®¶ã€‚è¯·åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å†…å®¹å±äºä»¥ä¸‹å“ªç±»ï¼š

1. data_query: ç”¨æˆ·æƒ³è¦æŸ¥è¯¢æ•°æ®åº“ä¸­çš„ä¸šåŠ¡æ•°æ®ï¼ˆå¦‚ï¼šç»Ÿè®¡ã€åˆ—è¡¨ã€é‡‘é¢ã€æ•°é‡ç­‰ï¼‰ã€‚
2. sensitive: ç”¨æˆ·è¯¢é—®æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ï¼šå¯†ç ã€å·¥èµ„ã€å¯†é’¥ã€èº«ä»½è¯ï¼‰ã€‚
3. non_data: é—²èŠã€é—®å€™ã€æˆ–è€…è¯¢é—®å¤©æ°”ç­‰ä¸æ•°æ®åº“æ— å…³çš„é—®é¢˜ã€‚

ç”¨æˆ·è¾“å…¥: "{question}"
"""


ERROR_CLASSIFY_PROMPT = """
ä½ æ˜¯ä¸€ä¸ªæ•°æ®åº“é”™è¯¯åˆ†æå¸ˆã€‚
[SQL]: {sql}
[Error]: {error_msg}

è¯·åˆ†æé”™è¯¯ç±»å‹å¹¶æä¾›è¡¥æ•‘å»ºè®®ï¼š

1. SYNTAX_ERROR: è¯­æ³•é”™è¯¯ï¼ˆå¦‚ Error 1064ï¼‰ï¼Œæˆ–å‡½æ•°ä½¿ç”¨é”™è¯¯ã€‚
   -> è¡¥æ•‘ï¼šä¸éœ€è¦è¡¥æœï¼Œç›´æ¥é‡å†™ã€‚å…³é”®è¯ç•™ç©ºã€‚
2. MISSING_COLUMN: æŠ¥é”™ 'Unknown column'ã€‚è¯´æ˜å€™é€‰è¡¨ä¸­ç¼ºå­—æ®µï¼Œæˆ–è€…å¼•ç”¨äº†ä¸å­˜åœ¨çš„åˆ—ã€‚
   -> æå–è¯¥åˆ—åï¼ˆå¦‚ 'region'ï¼‰ã€‚
3. MISSING_TABLE: æŠ¥é”™ 'Table doesn't exist' æˆ–è¯­ä¹‰ä¸Šæ— æ³•å…³è”ã€‚
   -> æå–ç¼ºå°‘çš„å®ä½“åï¼ˆå¦‚ 'user_dim'ï¼‰ã€‚
4. WRONG_TABLE: è¯­ä¹‰é”™è¯¯ï¼Œé€‰é”™äº†è¡¨ã€‚
5. NON_FIXABLE: è¯­æ³•ä¸¥é‡é”™è¯¯ï¼Œæˆ–æ— æ³•é€šè¿‡è¡¥æœè§£å†³ã€‚

è¯·æå–ç”¨äºå»çŸ¥è¯†åº“è¡¥æœçš„å…³é”®è¯ (search_keywords)ã€‚å¦‚æœæ˜¯ SYNTAX_ERRORï¼Œè¯·è¾“å‡ºç©ºåˆ—è¡¨ã€‚
"""


GEN_SQL_PROMPT = """
ä½ æ˜¯ä¸€ä¸ª SQL ç”Ÿæˆå™¨ã€‚åªè¾“å‡º SQL è¯­å¥æœ¬èº«ï¼Œä¸è¦åŒ…å« "Generated SQL:"ã€Markdown ä»£ç å—ï¼ˆ```sqlï¼‰æˆ–ä»»ä½•è§£é‡Šæ€§æ–‡å­—ã€‚ ç›´æ¥ä»¥ SELECT å¼€å¤´ã€‚

### [å€™é€‰è¡¨ Schema - è¿™æ˜¯å”¯ä¸€å¯ä¿¡æ¥æº]
{schema_context}

### [å†å²å¯¹è¯ä¸Šä¸‹æ–‡]ï¼ˆä»…ä¾›ç†è§£ä¸šåŠ¡ï¼Œç¦æ­¢ç…§æŠ„å†å² SQLï¼‰
{history_context}

### [å½“å‰ç”¨æˆ·é—®é¢˜]
{question}

### [å†å²æŠ¥é”™ä¿¡æ¯]ï¼ˆç”¨äºä¿®æ­£ï¼Œä¸å¯ç…§æŠ„é”™è¯¯ SQLï¼‰
{error_context}

========================
###  å¼ºåˆ¶è§„åˆ™ï¼ˆè¿åä»»æ„ä¸€æ¡éƒ½è§†ä¸ºé”™è¯¯è¾“å‡ºï¼‰
1) **åªå…è®¸ä½¿ç”¨ç™½åå•è¡¨**ï¼š
   - ä½ åªèƒ½ä½¿ç”¨ [å€™é€‰è¡¨ Schema] ä¸­å‡ºç°çš„ `LogicalTable`ï¼ˆæˆ– `AllowedFullName`ï¼‰ã€‚
   - **ç¦æ­¢**ç”Ÿæˆä»»ä½•æœªåœ¨å€™é€‰è¡¨ä¸­å‡ºç°çš„è¡¨åã€‚

2) **ShardingSphere-Proxy åœºæ™¯**ï¼ˆéå¸¸é‡è¦ï¼‰ï¼š
   - åªèƒ½å†™ **é€»è¾‘è¡¨å**ï¼šä¾‹å¦‚ `t_order`ã€`t_order_item`ã€`u_user_base`
   - **ç¦æ­¢**å‡ºç°çœŸå®åº“åå‰ç¼€ï¼š`corp_*.*` / `xxx_db.*`
   - **ç¦æ­¢**å‡ºç°ç‰©ç†åˆ†è¡¨å/æ•°å­—åç¼€ï¼š`*_0`ã€`*_00`ã€`*_000`ã€`*_001`ã€`*_202401` ç­‰
   - å¦‚æœä½ çœ‹åˆ°å€™é€‰è¡¨çš„æè¿°é‡Œå«æœ‰ç‰©ç†åˆ†è¡¨ä¿¡æ¯ï¼Œä¹Ÿå¿…é¡»å¿½ç•¥ï¼Œä»ç„¶åªå†™é€»è¾‘è¡¨ã€‚

3) **å•è¯­å¥**ï¼š
   - åªèƒ½è¾“å‡ºä¸€æ¡ SQLï¼ˆä»… `SELECT` æˆ– `WITH ... SELECT`ï¼‰
   - **ç¦æ­¢** `USE/SET/EXPLAIN/SHOW`ã€ç¦æ­¢ `;`ã€ç¦æ­¢ç¬¬äºŒæ¡è¯­å¥

4) **å­—æ®µè§„åˆ™**ï¼ˆâš ï¸ ä¸¥æ ¼ç¦æ­¢ç¼–é€ å­—æ®µï¼‰ï¼š
   - **åªèƒ½ä½¿ç”¨å€™é€‰è¡¨ Schema ä¸­æ˜ç¡®åˆ—å‡ºçš„å­—æ®µå**
   - **ä¸¥ç¦**æ ¹æ®ä¸šåŠ¡è¯­ä¹‰çŒœæµ‹å­—æ®µåï¼ˆå¦‚ï¼šçœ‹åˆ°"åŸå¸‚"å°±å†™ `city`ï¼Œçœ‹åˆ°"é‡‘é¢"å°±å†™ `amount`ï¼‰
   - å¦‚æœ Schema ä¸­æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€å­—æ®µï¼Œå¿…é¡»è¾“å‡ºé”™è¯¯æç¤ºï¼š`SELECT 'NEED_SCHEMA_FIELD: å­—æ®µæè¿°' AS error;`
   - ä¾‹å¦‚ï¼šå¦‚æœç”¨æˆ·é—®"åŸå¸‚"ï¼Œä½† Schema ä¸­æ²¡æœ‰ `city`ã€`region`ã€`city_name` ç­‰å­—æ®µï¼Œå¿…é¡»è¾“å‡ºï¼š`SELECT 'NEED_SCHEMA_FIELD: city' AS error;`
   - **ä¸è¦**å¼ºè¡Œä½¿ç”¨ä¸å­˜åœ¨çš„å­—æ®µç”Ÿæˆ SQLï¼Œè¿™ä¼šå¯¼è‡´æ‰§è¡Œå¤±è´¥

5) **è¾“å‡ºæ ¼å¼**ï¼š
   - åªè¾“å‡º SQL åŸæ–‡ï¼Œä¸è¦è§£é‡Šï¼Œä¸è¦ Markdownï¼Œä¸è¦ä»£ç å—ã€‚
========================

è¯·ç›´æ¥è¾“å‡ºæœ€ç»ˆ SQLï¼š
"""


# ğŸ”¥ æ–°å¢ï¼šæ€»è·¯ç”± Prompt
ROUTER_PROMPT = """
ä½ æ˜¯ä¸€ä¸ªå…¨èƒ½æ•°æ®åº“åŠ©æ‰‹ (DBOps Copilot) çš„æ€»è°ƒåº¦ä¸­å¿ƒã€‚
è¯·åˆ†æç”¨æˆ·çš„è¾“å…¥ï¼Œå°†å…¶åˆ†å‘ç»™æœ€åˆé€‚çš„å­æ™ºèƒ½ä½“ (Sub-Agent)ã€‚

### å¯ç”¨æ™ºèƒ½ä½“ï¼š
1. **DATA_QUERY**: è´Ÿè´£æŸ¥è¯¢ä¸šåŠ¡æ•°æ®ã€‚
   - é€‚ç”¨ï¼šæŸ¥é”€é‡ã€æŸ¥ç”¨æˆ·ã€ç»Ÿè®¡é‡‘é¢ã€æŠ¥è¡¨æ•°æ®ã€‚
   - å…³é”®è¯ï¼šç»Ÿè®¡ã€æŸ¥è¯¢ã€å¤šå°‘ã€åˆ—è¡¨ã€æ•°æ®ã€‚

2. **KNOWLEDGE_SEARCH**: è´Ÿè´£æŸ¥è¯¢é€šç”¨æŠ€æœ¯çŸ¥è¯†æˆ–å¤–éƒ¨èµ„æ–™ã€‚
   - é€‚ç”¨ï¼šæ•°æ®åº“æŠ¥é”™è§£å†³ã€SQL è¯­æ³•é—®é¢˜ã€é…ç½®å‚æ•°å«ä¹‰ã€é€šç”¨ç™¾ç§‘ã€‚
   - å…³é”®è¯ï¼šæŠ¥é”™ã€ERROR 1064ã€æ€ä¹ˆé…ç½®ã€åŸç†ã€æ˜¯ä»€ä¹ˆã€‚

3. **CHAT**: è´Ÿè´£é—²èŠæˆ–æ— æ³•å½’ç±»çš„é—®é¢˜ã€‚
   - é€‚ç”¨ï¼šæ‰“æ‹›å‘¼ã€ä½ å¥½ã€ä½ æ˜¯è°ã€‚

### ä»»åŠ¡ï¼š
ç”¨æˆ·è¾“å…¥: "{question}"

è¯·è¾“å‡º JSON æ ¼å¼ï¼ŒåŒ…å« "intent" å­—æ®µï¼Œå–å€¼ä¸º [DATA_QUERY, KNOWLEDGE_SEARCH, CHAT]ã€‚
"""

REFLECTION_PROMPT = """ä½ æ˜¯ä¸€ä¸ªä¸¥å‰çš„ SQL å®¡æŸ¥å‘˜ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ£€æŸ¥ç”Ÿæˆçš„ SQL æ˜¯å¦ç²¾ç¡®åŒ¹é…ç”¨æˆ·çš„æ„å›¾ï¼Œæ˜¯å¦å­˜åœ¨â€œå¹»è§‰â€ã€ä¹±ç”¨è¡¨æˆ–é€»è¾‘é”™è¯¯ã€‚

**ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š**
1. ç”¨æˆ·åŸå§‹é—®é¢˜ï¼š{question}
2. æ£€ç´¢åˆ°çš„è¡¨ç»“æ„ï¼š
{schema_summary}
3. Agent ç”Ÿæˆçš„ SQLï¼š{sql}

**å®¡æŸ¥æ ‡å‡† (å¿…é¡»ä¸¥æ ¼éµå®ˆ)ï¼š**

1. **æ ¸å¿ƒæŒ‡æ ‡ä¸€è‡´æ€§ (Metric Alignment)**ï¼š
   - æ£€æŸ¥ SQL è®¡ç®—çš„æŒ‡æ ‡æ˜¯å¦ä¸ç”¨æˆ·é—®çš„ç‰©ç†å«ä¹‰ä¸€è‡´ã€‚
   - **åä¾‹è­¦å‘Š**ï¼šå¦‚æœç”¨æˆ·é—®çš„æ˜¯â€œæ€»é‡‘é¢/æ€»é‡/æ•°å€¼â€ï¼ˆéœ€è¦ SUM/AVGï¼‰ï¼ŒSQL å´åªç”¨äº† COUNT(*)ï¼ˆç»Ÿè®¡è¡Œæ•°ï¼‰ï¼Œè¿™æ˜¯ä¸¥é‡é”™è¯¯ï¼
   - **åä¾‹è­¦å‘Š**ï¼šå¦‚æœç”¨æˆ·é—®çš„æ˜¯â€œAçŠ¶æ€â€ï¼ŒSQL å´è¿‡æ»¤äº†â€œBçŠ¶æ€â€ã€‚

2. **è¡¨ä¸ä¸šåŠ¡åŸŸåŒ¹é… (Domain Matching)**ï¼š
   - æ£€æŸ¥ä½¿ç”¨çš„è¡¨åœ¨è¯­ä¹‰ä¸Šæ˜¯å¦çœŸçš„åŒ…å«ç”¨æˆ·æƒ³è¦çš„æ•°æ®ã€‚
   - **ä¸¥ç¦**â€œå¼ å† ææˆ´â€ï¼šä¾‹å¦‚ç”¨æˆ·é—®â€œäº¤æ˜“/é”€é‡â€ï¼Œç»ä¸èƒ½ç”¨â€œç”¨æˆ·è¡¨â€æˆ–â€œæ—¥å¿—è¡¨â€æ¥å¼ºè¡Œå‡‘æ•°ã€‚å¦‚æœ Schema é‡Œæ²¡æœ‰åˆé€‚çš„è¡¨ï¼Œå¿…é¡»é©³å›ï¼Œä¸è¦ç¡¬å†™ã€‚

3. **å­—æ®µçœŸå®æ€§ (Field Validity)**ï¼š
   - SQL ä¸­ä½¿ç”¨çš„å­—æ®µå¿…é¡»çœŸå®å­˜åœ¨äºæä¾›çš„ Schema ä¸­ã€‚ä¸¥ç¦ç¼–é€ ä¸å­˜åœ¨çš„å­—æ®µï¼ˆHallucinationï¼‰ã€‚

**è¾“å‡ºæŒ‡å¼•ï¼š**
- å¦‚æœå‘ç°è¡¨ç¼ºå¤±ï¼ˆSchema é‡Œæ²¡æœ‰èƒ½å›ç­”é—®é¢˜çš„è¡¨ï¼‰ï¼Œè¯·åœ¨ suggested_search_keywords ä¸­ç»™å‡ºâ€œä¸ºäº†æ‰¾åˆ°æ­£ç¡®çš„è¡¨ï¼Œåº”è¯¥å»æ£€ç´¢ä»€ä¹ˆä¸šåŠ¡æœ¯è¯­ï¼ˆå¦‚ï¼šåº“å­˜ã€æµæ°´ã€è€ƒå‹¤ç­‰ï¼‰â€ã€‚
- å¦‚æœé€šè¿‡ï¼Œè¯·ç¡®ä¿é€»è¾‘æ— æ‡ˆå¯å‡»ã€‚
"""


QUERY_REWRITE_PROMPT = """ä½ æ˜¯ä¸€ä¸ªç²¾é€šæ•°æ®åº“è®¾è®¡ï¼ˆSchema Designï¼‰çš„æ•°æ®æ¶æ„å¸ˆã€‚ä½ çš„ä»»åŠ¡æ˜¯å°†ç”¨æˆ·çš„â€œä¸šåŠ¡å£è¯­â€ï¼Œç¿»è¯‘æˆæ•°æ®åº“æ£€ç´¢æ—¶å¯èƒ½å‘½ä¸­çš„â€œå…ƒæ•°æ®å…³é”®è¯â€ã€‚

**ä»»åŠ¡ç›®æ ‡**ï¼š
å¸®åŠ©å‘é‡æ£€ç´¢å¼•æ“ï¼ˆRAGï¼‰æ‰¾åˆ°æ­£ç¡®çš„è¡¨ã€‚ä½ éœ€è¦é€šè¿‡è”æƒ³ï¼ŒçŒœæµ‹æ•°æ®åº“ä¸­å¯èƒ½å­˜åœ¨çš„**è¡¨åç‰‡æ®µ**ã€**å­—æ®µå**æˆ–**ä¸šåŠ¡æœ¯è¯­**ã€‚

**æ€è€ƒç»´åº¦ï¼ˆè¯·å‘æ•£æ€ç»´ï¼‰**ï¼š
1. **é¢†åŸŸæ³›åŒ–**: ç”¨æˆ·é—®å…·ä½“äº‹ç‰©ï¼ˆå¦‚"iPhone"ï¼‰ï¼Œä½ è¦è”æƒ³åˆ°æŠ½è±¡ç±»åˆ«ï¼ˆå¦‚"å•†å“", "SKU", "sku_name", "product_name"ï¼‰ã€‚
2. **è¡¨åé¢„æµ‹**: 
   - æ¶‰åŠäº¤æ˜“/è®°è´¦ -> å¯èƒ½åŒ…å« "order", "flow", "trans", "fact"
   - æ¶‰åŠäºº/å±æ€§ -> å¯èƒ½åŒ…å« "user", "dim", "profile", "base"
   - æ¶‰åŠåº“å­˜/é…ç½® -> å¯èƒ½åŒ…å« "stock", "config", "setting"
3. **å­—æ®µçŒœæµ‹**:
   - é—®"åœ¨å“ª" -> è¡¥å…… "city", "province", "location", "address"
   - é—®"å¤šå°‘é’±" -> è¡¥å…… "amount", "price", "revenue", "cost"
   - é—®"çŠ¶æ€" -> è¡¥å…… "status", "type", "flag"

**ç¤ºä¾‹**ï¼š
- è¾“å…¥: "æŸ¥ä¸€ä¸‹åŒ—äº¬çš„æ‰‹æœºé€€æ¬¾æƒ…å†µ"
- è¾“å‡º: "æŸ¥ä¸€ä¸‹åŒ—äº¬çš„æ‰‹æœºé€€æ¬¾æƒ…å†µ åŸå¸‚ city address é€€è´§ refund return order è®¢å• t_refund sku_name amount å”®å"

**ç”¨æˆ·é—®é¢˜**: {question}

è¯·ç›´æ¥è¾“å‡ºæ‰©å±•åçš„æœç´¢è¯å­—ç¬¦ä¸²ï¼ˆä¿ç•™åŸé—®é¢˜ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œä¸è¦è¾“å‡ºè§£é‡Šï¼‰ï¼š
"""